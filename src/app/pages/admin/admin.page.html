<ion-header [translucent]="true">
  <ion-toolbar class="ion-text-center ">
    <ion-title >ADMIN: {{admin}}</ion-title>
</ion-toolbar>
</ion-header>

<ion-content [fullscreen]="true" class="ion-text-center">

  <ion-row class = "ion-text-center ion-margin">
    <ion-col size="4">
      <ion-header class="ion-padding-bottom">
        <ion-title class="ion-text-center">Define un nuevo pr√©stamo</ion-title>
      </ion-header>
      
      <form [formGroup]="definirForm" (ngSubmit)="definirPrestamo(definirForm.value)" class="ion-margin">
        <ion-item >
          <ion-label position="floating">Porcentaje Interes</ion-label>
          <ion-input formControlName="porcentajeInteres"></ion-input>
        </ion-item>
        <ion-item >
          <ion-label position="floating">Cantidad Prestada</ion-label>
          <ion-input formControlName="cantidad"></ion-input>
        </ion-item>
        <ion-item >
          <ion-label position="floating">Numero cuotas</ion-label>
          <ion-input formControlName="cuotas"></ion-input>
        </ion-item>
        <ion-item >
          <ion-label position="floating">Penalizacion Impago</ion-label>
          <ion-input formControlName="penalizacionImpago"></ion-input>  
        </ion-item>
        <ion-button expand="block" type="submit">Definir</ion-button>
      </form>
    </ion-col>
    <ion-col size="8">

      <ion-header class="ion-padding-bottom">
        <ion-title class="ion-text-center">Prestamos en curso</ion-title>
      </ion-header>
     
      <div class="scrollable-content">
      <ion-row *ngFor="let user of prestamosCursando | keyvalue;" >
        <ion-header class="ion-margin ion-padding ion-align-items-center">
          <ion-title class="ion-text-center">User: {{user.key}}</ion-title>
        </ion-header>
        <ion-col *ngFor="let prestamo of user.value;" size="3.1">
          <ion-item >
            <ion-label  class = "ion-text-center " >
              <h2>Estado:</h2>
             <ion-text> {{ prestamo._state.toString() }}</ion-text>
            </ion-label>
          </ion-item>

          <ion-item >
            <ion-label  class = "ion-text-center" >
              <h2>Deuda Restante:</h2> 
              <ion-text> {{ prestamo._deudaRestante.toString() }}</ion-text>
            </ion-label>
          </ion-item>
  
          <ion-item >
            <ion-label class = "ion-text-center" >
              <h2>Cuotas Restantes:</h2> 
              <ion-text>{{ prestamo._cuotasRestantes.toString() }}</ion-text> 
            </ion-label>
          </ion-item>
        </ion-col>
      </ion-row>
     
      </div>
    </ion-col>
  </ion-row>  

  <ion-row  class = " ion-margin ion-align-items-center ion-justify-content-center">
    <ion-col size="4">
      <form class="ion-margin" [formGroup]="invertirForm" (ngSubmit)="invertir(invertirForm.value)">
        <ion-item >
          <ion-row class = "ion-align-items-center ">
            <ion-col size="6">
              <ion-label position="floating">Invierte wei:</ion-label>
              <ion-input formControlName="amount"></ion-input>
            </ion-col>
            <ion-col size="6" >
              <ion-button expand="block" type="submit">Invertir</ion-button>
            </ion-col>
          </ion-row>
        </ion-item> 
      </form>
      <ion-item class="ion-margin">
        <ion-text> BALANCE: {{balance}}  </ion-text>
      </ion-item>
    </ion-col>

    <ion-col size="4">
      <form class="ion-margin" [formGroup]="recogerForm" (ngSubmit)="recogerFondos(recogerForm.value)">
        <ion-item >
          <ion-row class = "ion-align-items-center">
            <ion-col size="6">
              <ion-label position="floating">Recoge wei:</ion-label>
            <ion-input formControlName="amount"></ion-input>
            </ion-col>
            <ion-col size="6">
              <ion-button expand="block" type="submit">Recoger Fondos</ion-button>
            </ion-col>
          </ion-row>
        </ion-item>
      </form>
    
      <ion-button class="ion-margin" (click)="checkeoMensual()" expand="block">Checkeo mensual</ion-button> 
    </ion-col>

    <ion-col size="4">
      <ion-button (click)="logOut()" expand="block">LOG OUT</ion-button>
    </ion-col>

  </ion-row>
    

</ion-content>
